function [ combo ] = maximalRatioCombine( sig1,sig2,h1,h2,N0)
%MAXIMALRATIOCOMBINE - combine signals, maximally
% sig1, sig2 - received signals
% h1,h2 - path gains associated with each signal


%careful with your dots and transposes!
%combo = (h1'.*sig1 + h2'.*sig2) ./ (h1'.*h1.' + h2'.*h2.');

%equalize


%scatterplot(sig1eq);
%scatterplot(sig2eq);

a1 = h1'.*h1.' / N0
a2 = h2'.*h2.' / N0

combo = a1.*sig1eq + a2.*sig2;

end

